<script setup lang="ts">
/**
 * èŠå¤©å¤´éƒ¨ç»„ä»¶
 * åŠŸèƒ½ï¼šæ˜¾ç¤ºå½“å‰ä¼šè¯æ ‡é¢˜ã€ä¾§è¾¹æ åˆ‡æ¢æŒ‰é’®ã€æ¸…ç©ºå¯¹è¯ç­‰åŠŸèƒ½æŒ‰é’®
 */
import { useChatStore } from '../stores/chat'

// ==================== Store ====================

/** åˆå§‹åŒ– Pinia Storeï¼Œè·å–å½“å‰ä¼šè¯ä¿¡æ¯ */
const store = useChatStore()

// ==================== Props ====================

/** ç»„ä»¶ Props å®šä¹‰ */
defineProps<{
  /** åˆ‡æ¢ä¾§è¾¹æ æ˜¾ç¤ºçŠ¶æ€çš„å›è°ƒå‡½æ•° */
  onToggleSidebar: () => void
}>()
</script>

<template>
  <!-- é¡µé¢å¤´éƒ¨å®¹å™¨ -->
  <header class="chat-header">
    <!-- å·¦ä¾§åŒºåŸŸï¼šèœå•æŒ‰é’®å’Œæ ‡é¢˜ -->
    <div class="header-left">
      <!-- ä¾§è¾¹æ åˆ‡æ¢æŒ‰é’® -->
      <button class="menu-btn" @click="props.onToggleSidebar">
        <span>â˜°</span>
      </button>
      <!-- å½“å‰ä¼šè¯æ ‡é¢˜ï¼šå¦‚æœæ²¡æœ‰åˆ™æ˜¾ç¤ºé»˜è®¤æ ‡é¢˜ -->
      <h1>{{ store.currentSession?.title || 'AI åŠ©æ‰‹' }}</h1>
    </div>
    <!-- å³ä¾§åŒºåŸŸï¼šåŠŸèƒ½æŒ‰é’® -->
    <div class="header-right">
      <!-- æ¸…ç©ºå¯¹è¯æŒ‰é’® -->
      <button @click="store.clearChat" class="header-btn" title="æ¸…ç©ºå¯¹è¯">
        <span>ğŸ—‘ï¸</span>
      </button>
      <!-- å¸®åŠ©æŒ‰é’®ï¼ˆé¢„ç•™ï¼‰ -->
      <button class="header-btn" title="å¸®åŠ©">
        <span>â“</span>
      </button>
    </div>
  </header>
</template>
